<div class="aiq-card">
  <h2>MJ Privé Rewards</h2>
  <p class="sub">Unlock and redeem rewards on your order</p>

  <div class="tiers">
    <div
      *ngFor="let discount of displayDiscounts"
      class="tier"
      [class.active]="discount.unlocked"
      [class.redeemed]="discount.redeemed"
    >
      <div class="tier-header">
        <div>
          <span class="name">{{ discount.label }}</span>
        </div>

        <span class="badge">
          {{ discount.unlockText }}
        </span>
      </div>

      <p class="perk">{{ discount.rewardText }}</p>
      <p class="perk" *ngIf="discount.redeemed">{{ discount.desc }}</p>
      

     <div class="tier-actions">

      <!-- Redeem button -->
      <button
        *ngIf="!discount.redeemed"
        class="redeem-btn"
        [disabled]="!discount.redeemable"
        (click)="redeem(discount)"
      >
        Redeem
      </button>

      <!-- Redeemed state -->
      <div *ngIf="discount.redeemed" class="redeemed-pill">
        <span>✓ Applied</span>
        <button class="undo-btn" (click)="removeDiscount()">Undo</button>
      </div>

    </div>

    </div>
  </div>
</div>
